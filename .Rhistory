install.packages(c("ggplot2", "dplyr"))
getwd()
load("data/base.RData")
ls()
View(user_list)
head(user_list)
user_list$PREF_NAME %>% as.character()
library(dplyr)
user_list$PREF_NAME %>% as.character()
class(user_list)
class(user_list$PREF_NAME)
user_list$PREF_NAME <- user_list$PREF_NAME %>%as.character()
class(user_list$PREF_NAME)
View(user_list)
View(user_list)
View(details_train)
View(coupons_train)
ls()
coupons_train %>% summary()
summary(user_list)
coupons_train$USABLE_DATE_MON %>% unique()
coupons_train$USABLE_DATE_BEFORE_HOLIDAY %>% unique()
coupons_train$USABLE_DATE_HOLIDAY %>% unique()
as.factor(coupons_train$USABLE_DATE_MON) %>% summary()
as.factor(coupons_train$USABLE_DATE_TUE) %>% summary()
as.factor(coupons_train$USABLE_DATE_WED) %>% summary()
as.factor(coupons_train$USABLE_DATE_THU) %>% summary()
as.factor(coupons_train$USABLE_DATE_FRI) %>% summary()
as.factor(coupons_train$USABLE_DATE_SAY) %>% summary()
as.factor(coupons_train$USABLE_DATE_SAT) %>% summary()
as.factor(coupons_train$USABLE_DATE_SUN) %>% summary()
as.factor(coupons_train$USABLE_DATE_HOLIDAY) %>% summary()
as.factor(coupons_train$USABLE_DATE_BEFORE_HOLIDAY) %>% summary()
coupons_train$small_area_name %>% unique() %>% length()
coupons_train$large_area_name %>% unique() %>% length()
coupons_train$ken_name %>% unique() %>% length()
getwd()
ls()
library(dplyr)
library(ggplot2)
load("data/base.RData")
ls()
names(coupons_train)
grepl("USABLE", names(coupons_train))
grep("USABLE", names(coupons_train))
names(coupons_train)[grepl("USABLE", names(coupons_train))]
coupons_train %>% select(names(coupons_train)[grepl("USABLE", names(coupons_train))]) %>% cor()
coupons_train %>% select(names(coupons_train)[grepl("USABLE", names(coupons_train))]) %>% head()
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% head()
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% cor()
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% dim()
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% filter(is.na())
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% na.omit() %>% shape
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% na.omit() %>% dim()
19413 - 12408
coupons_train$USABLE_DATE_MON %>% summary()
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% na.omit() %>% cor()
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% na.omit() %>% summary()
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% na.omit() %>% apply(as.factor())
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% na.omit() %>% apply(as.factor
;
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% na.omit() %>% apply(as.factor)
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% na.omit() %>% as.factor()
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% na.omit() %>% princomp()
mod <- coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% na.omit() %>% princomp()
mod$loadings
mod
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% na.omit() %>% sapply(as.factor)
coupons_train %>% select(grep("USABLE", names(coupons_train))) %>% na.omit() %>% sapply(as.factor) %>% summary()
ls()
coupons_area_train %>% summary()
val <- coupons_area_train$COUPON_ID_hash
val <- val %>% groupby(COUPON_ID_hash) %>% summarise(COUNT=n())
val <- val %>% group_by(COUPON_ID_hash) %>% summarise(COUNT=n())
val <- as.data.frame(val) %>% group_by(COUPON_ID_hash) %>% summarise(COUNT=n())
val
val <- as.data.frame(val)
val %>% head()
names(val) = 'COUPON_ID_hash'
val %>% head()
val <- val %>% group_by(COUPON_ID_hash) %>% summarise(COUNT=n())
val
qplot(val)
val <- val %>% group_by(COUNT) %>% summarise(NUM_IDS=n())
val %>% head()
qplot(x=NUM_IDS, y=COUNT, data=val)
summary(coupons_area_train)
coupons_area_train %>% filter(COUPON_ID_hash = '102f4950a16930bdeb0608ed6ce4d36a')
coupons_area_train %>% filter(COUPON_ID_hash = 102f4950a16930bdeb0608ed6ce4d36a)
coupons_area_train %>% filter(COUPON_ID_hash == '102f4950a16930bdeb0608ed6ce4d36a')
coupons_area_train %>% filter(COUPON_ID_hash == '102f4950a16930bdeb0608ed6ce4d36a') %>% select(PREF_NAME) %>% unique() %>% length()
coupons_area_train %>% filter(COUPON_ID_hash == '102f4950a16930bdeb0608ed6ce4d36a') %>% select(PREF_NAME)
coupons_area_train %>% filter(COUPON_ID_hash == '102f4950a16930bdeb0608ed6ce4d36a') %>% select(PREF_NAME) %>% unique()
coupons_area_train %>% filter(COUPON_ID_hash == '102f4950a16930bdeb0608ed6ce4d36a') %>% select(PREF_NAME) %>% unique() %>% dim()
names(coupons_area_test)
names(user_list)
names(coupons_train)
coupons_area_train %>% select(SMALL_AREA_NAME) %>% unique() %>% dim()
coupons_train %>% select(small_area_name) %>% unique() %>% dim()
coupons_area_train %>% select(SMALL_AREA_NAME, PREF_NAME) %>% unique() %>% dim()
summary(coupons_area_train)
source('G:/Projects/coupon_purchase_prediction/source_R/extract.R')
ls()
load('data/base.RData')
library(dplyr)
library(ggplot2)
ls()
val
mod
locations %>% summary()
qplot(x=LATITUDE, y=LONGITUDE, data=locations)
names(coupons_area_train)
names(locations)
summary(locations)
names(coupons_area_test)
